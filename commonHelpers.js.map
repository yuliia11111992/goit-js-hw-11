{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst fetchPicturesForm = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst userInput = document.querySelector('input');\nconst container = document.querySelector('.container');\n\n// ідентифікатор загрузки\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  container.append(loader);\n};\n\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n};\n\nfetchPicturesForm.addEventListener('submit', event => {\n  showLoader();\n  event.preventDefault();\n  gallery.innerHTML = '';\n  const apiKey = '42261083-50fe706ca9c2c1734499a9937';\n  const query = userInput.value;\n\n  fetch(\n    `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n      query\n    )}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json(); // перетворення в JSON\n    })\n    .then(data => {\n      if (data.hits.length === 0)//перевіряється довжина масиву  \n      {\n        iziToast.error({\n          title: '',\n          backgroundColor: '#EF4040',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });//якщо не знайдено жодного зображення, виводиться помилкове повідомлення за допомогою iziToast.error()\n      } else {\n        let markup = ''; \n\nfor (let i = 0; i < data.hits.length; i++) {\n  const imageData = data.hits[i]; // отримати дані про окреме зображення\n  markup += `<li class=\"gallery-item\">\n    <a href=\"${imageData.webformatURL}\">\n      <img class=\"gallery-image\" src=\"${imageData.webformatURL}\" alt=\"${imageData.tags}\">\n    </a>\n    <p><b>Likes: </b>${imageData.likes}</p>\n    <p><b>Views: </b>${imageData.views}</p>\n    <p><b>Comments: </b>${imageData.comments}</p>\n    <p><b>Downloads: </b>${imageData.downloads}</p>\n  </li>`;\n}\n\n// вставити усі рядки розмітки у контейнер галереї\ngallery.insertAdjacentHTML('afterbegin', markup);\n        const lightbox = new SimpleLightbox('.gallery a', options);\n        lightbox.on('show.simplelightbox');\n        lightbox.refresh();\n        fetchPicturesForm.reset();//форма вводу очищається \n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n\nconst options = {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  animation: 250,\n};\n"],"names":["fetchPicturesForm","gallery","userInput","container","showLoader","loader","hideLoader","event","apiKey","query","response","data","iziToast","markup","i","imageData","lightbox","SimpleLightbox","options","error"],"mappings":"6vBAQA,MAAMA,EAAoB,SAAS,cAAc,OAAO,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAY,SAAS,cAAc,YAAY,EAG/CC,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAU,OAAOE,CAAM,CACzB,EAEMC,EAAa,IAAM,CACvB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,EAEAL,EAAkB,iBAAiB,SAAUO,GAAS,CACpDH,IACAG,EAAM,eAAc,EACpBN,EAAQ,UAAY,GACpB,MAAMO,EAAS,qCACTC,EAAQP,EAAU,MAExB,MACE,gCAAgCM,CAAM,MAAM,mBAC1CC,CACD,CAAA,0DACF,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAEvBC,EAAS,MAAM,CACb,MAAO,GACP,gBAAiB,UACjB,QACE,0EACZ,CAAS,MACI,CACL,IAAIC,EAAS,GAErB,QAASC,EAAI,EAAGA,EAAIH,EAAK,KAAK,OAAQG,IAAK,CACzC,MAAMC,EAAYJ,EAAK,KAAKG,CAAC,EAC7BD,GAAU;AAAA,eACGE,EAAU,YAAY;AAAA,wCACGA,EAAU,YAAY,UAAUA,EAAU,IAAI;AAAA;AAAA,uBAE/DA,EAAU,KAAK;AAAA,uBACfA,EAAU,KAAK;AAAA,0BACZA,EAAU,QAAQ;AAAA,2BACjBA,EAAU,SAAS;AAAA,QAE9C,CAGAd,EAAQ,mBAAmB,aAAcY,CAAM,EACvC,MAAMG,EAAW,IAAIC,EAAe,aAAcC,CAAO,EACzDF,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,EAChBhB,EAAkB,MAAK,CACxB,CACP,CAAK,EACA,MAAMmB,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbb,GACN,CAAK,CACL,CAAC,EAED,MAAMY,EAAU,CACd,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,GACb"}